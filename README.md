# Webtronics

Веб-сервис для работы с постами.

## Установка и запуск тестов

1. Скачайте репозиторий на ваш компьютер:
    ```
    git clone https://github.com/warmsnow17/webtronics.git
    ```

2. Перейдите в директорию проекта:
    ```
    cd webtronics
    ```

3. Установите все необходимые зависимости с помощью Poetry (перед этим установите poetry если вы ее не используете):
    ```
    poetry install
    ```
    Это установит все зависимости, указанные в файле pyproject.toml
4. Запустите сервер uvicorn из корневой директории:
    ```
    uvicorn app.main:app --host=0.0.0.0 --port 8000 --reload
    ```

5. Перейдите по адресу [http://0.0.0.0:8000/docs/](http://0.0.0.0:8000/docs/)

6. Зарегистрируйте нового пользователя по адресу [http://127.0.0.1:8000/docs#/users/create_user_api_create_user__post](http://127.0.0.1:8000/docs#/users/create_user_api_create_user__post)

7. Выполните вход по логину и паролю зарегистрированного пользователя по адресу [http://127.0.0.1:8000/docs#/users/login_api_login_post](http://127.0.0.1:8000/docs#/users/login_api_login_post). После удачного входа вы получите токен из JSON вида:
    ```
    {
      "access_token": "<TOKEN>",
      "token_type": "bearer"
    }
    ```

8. Нажмите на кнопку "Authorize" и введите в поле "value" полученный ранее токен.

Теперь вы можете использовать весь функционал эндпоинтов: создавать, удалять, изменять, просматривать посты, а также лайкать и дизлайкать.

9. Запустить тесты из корневой директории
     ```
    `pytest tests/`
     ```
10. Создайте файл .env поместите в него переменную CLEARBIT_API_KEY='API_KEY' со своим секретным API ключом сервиса https://clearbit.com/
